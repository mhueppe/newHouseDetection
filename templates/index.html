<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Satellite Image Analysis</title>
</head>
<body>
    <h1>Satellite Image Analysis for New Houses</h1>
    <form method="post">
        <label for="address">Enter Address:</label>
        <input type="text" id="address" name="address" required>
        <button type="submit">Analyze</button>
    </form>

    {% if error %}
    <p style="color: red;">Error: {{ error }}</p>
    {% endif %}

    <h2>New House Detection:</h2>
    <p>New house detected: {{ new_house_detected }}</p>
    <p>House Match: {{ houseMatch }}</p>

    {% if imgs %}
    <h2>Satellite Images for Selected Years:</h2>
    <div>
        {% for img, year in zip(imgs, years) %}
            <h3>{{ year }}</h3>
            <img src="data:image/jpeg;base64,{{ img|to_base64 }}" alt="Image for {{ year }}">
        {% endfor %}
    </div>

    <h3>Difference Image (Where New House May Have Appeared):</h3>
    <img src="data:image/jpeg;base64,{{ diff_image|to_base64 }}" alt="Difference Image">
    {% endif %}
</body>
</html>
